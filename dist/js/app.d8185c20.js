(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"266e":function(t,e,o){},"4ecb":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[""!=t.displayAlert?o("v-alert",{attrs:{type:t.alertType,dismissible:""}},[t._v(t._s(t.displayAlert)+" ")]):t._e(),o("router-view",{on:{alert:t.DisplayAlert}})],1)},i=[],r={components:{},data:function(){return{displayAlert:"",alertType:"success"}},methods:{DisplayAlert:function(t){this.alertType=t[0],this.displayAlert=t[1]}},watch:{displayAlert:function(){var t=this;setTimeout((function(){return t.displayAlert=""}),4e3)}}},s=r,l=o("2877"),c=o("6544"),u=o.n(c),p=o("0798"),d=o("7496"),m=Object(l["a"])(s,a,i,!1,null,null,null),f=m.exports;u()(m,{VAlert:p["a"],VApp:d["a"]});o("caad");var h=o("8c4f"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-column",[o("v-row",{staticClass:"justify-center"},[o("v-logo-banner")],1),o("br"),o("v-row",{staticClass:"justify-center"},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-row",{attrs:{justify:"center"}},[o("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-row",{attrs:{justify:"center"}},[o("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,"append-icon":t.pswVisibility?"visibility":"visibility_off",type:t.pswVisibility?"password":"text",required:""},on:{"click:append":function(){return t.pswVisibility=!t.pswVisibility}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("br"),o("v-row",{attrs:{justify:"center"}},[o("v-btn",{staticClass:"mr white--text",attrs:{block:"",outline:"","x-large":"",color:"rgba(0,32,96,255)"},on:{click:t.validateForm}},[t._v(" Login ")])],1)],1)],1),o("br"),o("v-row",{attrs:{justify:"center"}},[o("v-item",{staticClass:"caption"},[o("router-link",{attrs:{to:"/register"}},[t._v("You don't have an account? ")])],1)],1)],1)},v=[],b=(o("ac1f"),o("00b4"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-banner",{staticClass:"vbanner",attrs:{sticky:"",dark:"",align:"center"}},[o("div",{staticClass:"banner"},[o("span",{staticClass:"parke"},[t._v("Parke")]),o("span",{staticClass:"d"},[t._v("D")])])])],1)}),w=[],y={components:{},props:{},data:function(){return{}},mounted:function(){},computed:{},methods:{},watch:{}},k=y,C=(o("80bf"),o("e4e5")),x=Object(l["a"])(k,b,w,!1,null,"ac281300",null),_=x.exports;u()(x,{VBanner:C["a"]});var P=o("bee2"),V=o("d4ec"),S=Object(P["a"])((function t(e,o,n){Object(V["a"])(this,t),this.username=e,this.email=o,this.password=n})),j={components:{VLogoBanner:_},props:{},data:function(){return{user:new S("","",""),submitted:!1,successful:!1,valid:!1,message:"",password:"",error:"",pswVisibility:String,pswCVisibility:String,email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"At least 6 characters"}]}},created:function(){this.loggedIn&&this.$router.push("/parked")},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},methods:{validateForm:function(){this.$refs.form.validate()?this.handleLogin():(alert("Form is not valid"),this.$emit("alert",["error","Something went wrong. Please, try again"]))},handleLogin:function(){var t=this,e={username:this.email,email:this.email,password:this.password};this.$store.dispatch("auth/login",e).then((function(e){t.message=e,t.message.token?(t.$emit("alert",["success","Welcome!"]),t.$router.push("/parked")):t.$emit("alert",["error","Username or Password does not exist"])})).catch((function(e){t.error=e,t.$emit("alert",["error","Something went wrong. Please, try again"])}))}},watch:{}},z=j,$=(o("da41"),o("8336")),O=o("4bd4"),I=o("d903"),F=o("0fd9"),L=o("8654"),T=Object(l["a"])(z,g,v,!1,null,null,null),D=T.exports;u()(T,{VBtn:$["a"],VForm:O["a"],VItem:I["a"],VRow:F["a"],VTextField:L["a"]});var W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-column",[o("v-row",{staticClass:"justify-center"},[o("v-logo-banner")],1),o("br"),o("v-row",{staticClass:"justify-center"},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-row",{attrs:{justify:"center"}},[o("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-row",{attrs:{justify:"center"}},[o("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,"append-icon":t.pswVisibility?"visibility":"visibility_off",type:t.pswVisibility?"password":"text",required:""},on:{"click:append":function(){return t.pswVisibility=!t.pswVisibility}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-row",{attrs:{justify:"center"}},[o("v-text-field",{attrs:{label:"Confirm Password",rules:t.passwordConfRules,"append-icon":t.pswCVisibility?"visibility":"visibility_off",type:t.pswCVisibility?"password":"text",required:""},on:{"click:append":function(){return t.pswCVisibility=!t.pswCVisibility}},model:{value:t.passwordConf,callback:function(e){t.passwordConf=e},expression:"passwordConf"}})],1),o("br"),o("v-row",{attrs:{justify:"center"}},[o("v-btn",{staticClass:"mr white--text",attrs:{block:"",outline:"","x-large":"",color:"rgba(0,32,96,255)"},on:{click:t.validateForm}},[t._v(" Register ")])],1)],1)],1),o("br"),o("v-row",{attrs:{justify:"center"}},[o("v-item",{staticClass:"caption"},[o("router-link",{attrs:{to:"/login"}},[t._v("Already have an account? ")])],1)],1)],1)},A=[],M={components:{VLogoBanner:_},props:{},data:function(){var t=this;return{user:new S("","",""),submitted:!1,successful:!1,valid:!1,message:"",password:"",passwordConf:"",error:"",pswVisibility:String,pswCVisibility:String,email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"At least 6 characters"}],passwordConfRules:[function(e){return e===t.password||"Password must match"}]}},mounted:function(){this.loggedIn&&this.$router.push("/profile")},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},methods:{validateForm:function(){this.$refs.form.validate()?this.handleRegister():alert("Form is not valid")},handleRegister:function(){var t=this,e=new FormData;e.append("username",this.email),e.append("email",this.email),e.append("password",this.password),this.$store.dispatch("auth/register",e).then((function(e){t.message=e,t.$emit("alert",["success","Your account is ready. You can now Login"]),t.$router.push("/login")})).catch((function(e){t.error=e,t.$emit("alert",["error","Something went wrong. This email is already used"])}))}},watch:{}},R=M,E=(o("ac59"),Object(l["a"])(R,W,A,!1,null,null,null)),B=E.exports;u()(E,{VBtn:$["a"],VForm:O["a"],VItem:I["a"],VRow:F["a"],VTextField:L["a"]});var q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{on:{click:t.logOut}},[t._v("Profile")]),o("header",[o("h3",[o("strong",[t._v(t._s(t.currentUser.username))])])])])},U=[],N={name:"Profile",computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login")},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}},G=N,Y=Object(l["a"])(G,q,U,!1,null,null,null),H=Y.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-row",[o("v-banner",{attrs:{color:"primary",dark:"",elevation:"10","single-line":"",sticky:"",shaped:"",tile:"",width:"100%"}},[o("v-row",{attrs:{"no-gutters":""}},[o("v-flex",{attrs:{xs12:""}},[o("v-icon",[t._v("mdi-magnify")]),t._v(" Â  "),o("GmapAutocomplete",{attrs:{color:"white"},on:{place_changed:t.setPlace}})],1)],1)],1)],1),o("v-row",[o("v-container",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card",{attrs:{color:"blue",height:"100%"}},[o("GmapMap",{ref:"map",staticStyle:{width:"100%",height:"85vh"},attrs:{draggable:!0,options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1},myLocationEnabled:"true",zoomControl:"true",zoom:t.zoom,center:{lat:38.26030427395903,lng:21.744173387859256}},on:{zoom_changed:t.getCurrentZoom,center_changed:t.getCurrentCenter,"update:zoom":function(e){t.zoom=e}}},[t._l(t.locations,(function(e,n){return o("gmap-marker",{key:n,attrs:{position:e,label:e.label,clickable:!0,icon:e.icon},on:{click:function(e){return t.openInfoWindowTemplate(n)}}})})),o("gmap-marker",{attrs:{position:t.currentDevicePos,icon:{url:"https://img.icons8.com/emoji/24/000000/blue-circle-emoji.png",scaledSize:{width:1*t.zoom,height:1*t.zoom}}}}),o("gmap-info-window",{attrs:{options:{maxWidth:300,pixelOffset:{width:0,height:-35}},position:t.infoWindow.position,opened:t.infoWindow.open},on:{closeclick:t.closeWindowInfo}},[o("div",{domProps:{innerHTML:t._s(t.infoWindow.template)}})])],2)],1)],1)],1)],1)],1),o("v-card",{staticClass:"float-end",style:{position:"absolute",top:"15%",right:"-1%"},attrs:{outlined:"",color:"transparent",absolute:"",right:""}},t._l(1,(function(e){return o("v-col",{key:e},[o("v-row",{attrs:{justify:"space-around","no-gutters":""}},[o("v-btn",{attrs:{color:"primary",elevation:"12",fab:"",small:"",dark:""},on:{click:t.locateGeoLocation}},[o("v-icon",[t._v("mdi-crosshairs")])],1)],1),o("br"),o("v-row",{attrs:{justify:"space-around","no-gutters":""}},[o("v-btn",{attrs:{disabled:0==t.Paction,color:"primary",elevation:"12",fab:"",small:""},on:{click:t.BookSpot}},[o("v-icon",[t._v("mdi-parking")])],1)],1),o("br"),o("v-row",{attrs:{justify:"space-around","no-gutters":""}},[o("v-btn",{attrs:{color:"primary",elevation:"12",fab:"",small:"",dark:""},on:{click:function(e){t.openFilters=!0}}},[o("v-icon",[t._v("mdi-filter")])],1)],1),o("br"),o("v-row")],1)})),1),o("v-row",{staticClass:"justify-center"},[o("v-bottom-navigation",{attrs:{absolute:"",value:t.value,"background-color":"blue"}},[o("v-btn",[o("span",[t._v("Profile")]),o("router-link",{attrs:{to:"/profile"}},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-account")])],1)],1),o("v-btn",[o("span",[t._v("Saved")]),o("v-icon",{attrs:{color:"white"}},[t._v("mdi-heart")])],1),o("v-btn",[o("span",[t._v("Places")]),o("v-icon",{attrs:{color:"white"}},[t._v("mdi-shopping")])],1),o("v-btn",{on:{click:t.logOut}},[o("span",[t._v("Logout")]),o("v-icon",{attrs:{color:"white"}},[t._v("mdi-logout-variant")])],1)],1)],1),o("v-bottom-sheet",{attrs:{persistent:"",width:"100%","hide-overlay":""},model:{value:t.openFilters,callback:function(e){t.openFilters=e},expression:"openFilters"}},[o("v-card",[o("v-card-title",{staticClass:"text blue lighten-2"},[o("v-row",{attrs:{"no-gutters":""}},[o("v-flex",{attrs:{xs5:""}},[t._v(" Filters ")]),o("v-flex",{attrs:{xs1:"","offset-5":""}},[o("v-btn",{attrs:{text:""},on:{click:function(e){t.openFilters=!1}}},[o("v-icon",[t._v("mdi-close")])],1)],1)],1)],1),o("br"),o("v-card-text",{staticStyle:{}},[o("v-select",{attrs:{dense:"",items:t.cars,"item-text":"label","item-value":"value",label:"Car Type",outlined:""},model:{value:t.car,callback:function(e){t.car=e},expression:"car"}}),o("v-select",{attrs:{dense:"",items:t.ramps,"item-text":"label","item-value":"value",label:"Ramp",outlined:""},model:{value:t.ramp,callback:function(e){t.ramp=e},expression:"ramp"}}),o("v-slider",{attrs:{dense:"",hint:"Im a hint",step:"5",min:"10",max:"100","thumb-label":"always",width:"50%",label:"Distance"},model:{value:t.distance,callback:function(e){t.distance=e},expression:"distance"}})],1)],1)],1)],1)],1)},K=[],Z=(o("d81d"),o("a9e3"),o("99af"),o("fb6a"),o("bc3a")),Q=o.n(Z),X="https://parked-iot-project.herokuapp.com/",tt=function(){function t(){Object(V["a"])(this,t)}return Object(P["a"])(t,[{key:"post",value:function(t,e){return Q.a.post(X+e,t)}}]),t}(),et=new tt,ot={name:"Parked",components:{},props:{},data:function(){return{currentDevicePos:{},selectedParkingSpot:{},Paction:!1,infoWindow:{position:{lat:0,lng:0},open:!1,template:""},car:"car",ramp:0,distance:100,ramps:[{label:"Yes",value:1},{label:"No",value:0}],cars:[{label:"Car",value:"car"},{label:"Van",value:"van"},{label:"Single-Side Van",value:"singleSideVan"}],openFilters:!1,getMarkersWait:!1,zoom:15,center:{lat:38.26030427395903,lng:21.744173387859256},locationMarkers:[],locPlaces:[],existingPlace:null,locations:[],test:"",currentCenterLat:38.26030427395903,currentCenterLng:21.744173387859256}},computed:{currentUser:function(){return this.$store.state.auth.user}},created:function(){this.locateGeoLocation()},mounted:function(){this.currentUser||this.$router.push("/login"),this.createMarkers(),this.locateGeoLocation(),this.$nextTick((function(){var t=this;window.setInterval((function(){t.getDevicePos()}),2500)}))},methods:{setPlace:function(t){this.$refs.map.$mapPromise.then((function(e){e.panTo({lat:t.geometry.location.lat(),lng:t.geometry.location.lng()})})),this.zoom=18},getCurrentZoom:function(t){this.zoom=t},getCurrentCenter:function(t){this.currentCenterLat=t.lat(),this.currentCenterLng=t.lng(),this.createMarkers()},getDevicePos:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.currentDevicePos={lat:e.coords.latitude,lng:e.coords.longitude}}))},locateGeoLocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.$refs.map.$mapPromise.then((function(t){t.panTo({lat:e.coords.latitude,lng:e.coords.longitude})})),t.currentDevicePos=t.center})),this.zoom=18},createMarkers:function(){var t=this;this.getMarkersWait||(this.infoWindow.open=!1,this.Paction=!1,this.selectedParkingSpot={},this.locations=[],setTimeout(this.getMarkers(),1e3),this.getMarkersWait=!0,setTimeout((function(){t.getMarkersWait=!1}),200))},getMarkers:function(){var t=this,e=new FormData;e.append("gpsLong",this.currentCenterLng),e.append("gpsLat",this.currentCenterLat),e.append("ramp",this.ramp),e.append("typeVeh",this.car),e.append("maxDist",this.distance),et.post(e,"spots/available/").then((function(e){t.test=e;var o=e.data;for(var n in o)o[n]["id"]=n,"unknown"==o[n]["status"]?o[n]["icon"]={url:"http://maps.google.com/mapfiles/ms/icons/orange-dot.png",scaledSize:{width:2*t.zoom,height:2*t.zoom}}:o[n]["icon"]={url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:{width:2*t.zoom,height:2*t.zoom}},o[n]["lat"]=Number(o[n]["lat"]),o[n]["lng"]=Number(o[n]["lng"]),t.locations.push(o[n])})).catch((function(e){t.test=e}))},openInfoWindowTemplate:function(t){for(var e in this.test=t,this.Paction=!0,this.locations[t].icon={url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:{width:2*this.zoom,height:2*this.zoom}},this.selectedParkingSpot=this.locations[t],this.locations)e!=t&&("unknown"==this.locations[e].status?this.locations[e].icon={url:"http://maps.google.com/mapfiles/ms/icons/orange-dot.png",scaledSize:{width:2*this.zoom,height:2*this.zoom}}:this.locations[e].icon={url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:{width:2*this.zoom,height:2*this.zoom}});var o=this.locations[t],n=o.lat,a=o.lng,i=o.ramp,r=o.type,s=o.dist,l=o.status;s=parseInt(1e3*Number(s)),this.infoWindow.position={lat:n,lng:a},i=0==i?"Available":"Unavailable",r="car"==r?"Car":"van"==r?"Van":"Single-Side Van",this.test={lat:n,lng:a,ramp:i,type:r,dist:s},this.infoWindow.template="<b> Ramp:</b> ".concat(i,"<br>\n        <b>Distance:</b> ").concat(s," meters<br>\n        <b>Car Type:</b> ").concat(r,"<br>\n        <b>Status:</b> ").concat(l.charAt(0).toUpperCase()+l.slice(1),"<br> "),this.infoWindow.open=!0},closeWindowInfo:function(){for(var t in this.Paction=!1,this.infoWindow.open=!1,this.selectedParkingSpot={},this.locations)"unknown"==this.locations[t].status?this.locations[t].icon={url:"http://maps.google.com/mapfiles/ms/icons/orange-dot.png",scaledSize:{width:2*this.zoom,height:2*this.zoom}}:this.locations[t].icon={url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:{width:2*this.zoom,height:2*this.zoom}}},logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},BookSpot:function(){var t=this,e=new FormData;e.append("gps_lat",this.currentDevicePos.lat),e.append("gps_long",this.currentDevicePos.long),e.append("spot_id",Number(this.selectedParkingSpot.id)),et.post(e,"spots/save/").then((function(e){t.test=e,"Wrong Coordinates"==e.data.status&&t.$emit("alert",["warning","You are too far away"]),"OK"==e.data.status&&t.$emit("alert",["success","Spot has been occupied successfully!"])})).catch((function(e){t.test=e,t.$emit("alert",["error","Something went wrong. Please, try again"])}))}},watch:{openFilters:function(){this.createMarkers()}}},nt=ot,at=(o("a6de"),o("b81c")),it=o("288c"),rt=o("b0af"),st=o("99d9"),lt=o("62ad"),ct=o("a523"),ut=o("0e8f"),pt=o("132d"),dt=o("a722"),mt=o("b974"),ft=o("ba0d"),ht=Object(l["a"])(nt,J,K,!1,null,"71abd93c",null),gt=ht.exports;u()(ht,{VBanner:C["a"],VBottomNavigation:at["a"],VBottomSheet:it["a"],VBtn:$["a"],VCard:rt["a"],VCardText:st["a"],VCardTitle:st["b"],VCol:lt["a"],VContainer:ct["a"],VFlex:ut["a"],VIcon:pt["a"],VLayout:dt["a"],VRow:F["a"],VSelect:mt["a"],VSlider:ft["a"]}),n["default"].use(h["a"]);var vt=[{path:"/",component:D},{path:"/login",component:D,meta:{guest:!0}},{path:"/register",component:B,meta:{guest:!0}},{path:"/profile",component:H,meta:{requiresAuth:!0}},{path:"/parked",component:gt}],bt=new h["a"]({mode:"history",base:"/",routes:vt,linkActiveClass:"is-active"});bt.beforeEach((function(t,e,o){var n=["/login","/register","/home"],a=!n.includes(t.path),i=localStorage.getItem("user");a&&!i?o("/login"):o()}));var wt=bt,yt=o("ce5b"),kt=o.n(yt),Ct=(o("bf40"),o("f309"));n["default"].use(Ct["a"]);var xt=new Ct["a"]({}),_t=o("2f62"),Pt=(o("d3b7"),o("e9c4"),"https://parked-iot-project.herokuapp.com/"),Vt=function(){function t(){Object(V["a"])(this,t)}return Object(P["a"])(t,[{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"login",value:function(t){console.log("login"),console.log(t);var e=new FormData;return e.append("username",t.username),e.append("email",t.username),e.append("password",t.password),Q.a.post(Pt+"usersign/login/",e).then((function(t){if(console.log(t),t.data.token){var o={username:e.get("username"),password:e.get("password"),token:t.data.token};return localStorage.setItem("user",JSON.stringify(o)),o}})).catch((function(t){return{status:"fail",error:t}}))}},{key:"register",value:function(t){return Q.a.post(Pt+"usersign/register/",t)}}]),t}(),St=new Vt,jt=JSON.parse(localStorage.getItem("user")),zt=jt?{status:{loggedIn:!0},user:jt}:{status:{loggedIn:!1},user:null},$t={namespaced:!0,state:zt,actions:{login:function(t,e){var o=t.commit;return St.login(e).then((function(t){return o("loginSuccess",t),Promise.resolve(t)}),(function(t){return o("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;St.logout(),e("logout")},register:function(t,e){var o=t.commit;return St.register(e).then((function(t){return o("registerSuccess"),Promise.resolve(t.data)}),(function(t){return o("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1}}};n["default"].use(_t["a"]);var Ot=new _t["a"].Store({modules:{auth:$t}}),It=o("755e"),Ft=o("7bb1");n["default"].use(Ft),n["default"].use(It,{load:{key:"AIzaSyCyOBuqzRmGjbOEQCeHVDHHsjML57kUnKM",libraries:"places"}}),n["default"].use(kt.a),n["default"].config.productionTip=!1,new n["default"]({el:"#app",vuetify:xt,router:wt,store:Ot,render:function(t){return t(f)}}).$mount("#app")},"80bf":function(t,e,o){"use strict";o("4ecb")},9797:function(t,e,o){},a6de:function(t,e,o){"use strict";o("a83c")},a83c:function(t,e,o){},ac59:function(t,e,o){"use strict";o("9797")},da41:function(t,e,o){"use strict";o("266e")}});
//# sourceMappingURL=app.d8185c20.js.map